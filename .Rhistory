shiny::runApp()
shiny::runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
textplot_wordcloud(topfeatures(mydfm, 20))
text
file
file <- read_xlsx("~/DataSCOUT/Objectiva/BadogueSentimentos/ruicosta.xlsx")
text <- toupper(file$Conteúdo)
mydfm <- getDFMatrix(text);
getDFMatrix <- function(text){
myCorpus <- corpus(text)
metadoc(myCorpus, "language") <- "portuguese"
tokenInfo <- summary(myCorpus)
kwic(myCorpus, "gestor")
myStemMat <- dfm(myCorpus, remove = stopwords("portuguese"), stem = TRUE, remove_punct = TRUE)
mydfm <- dfm(myCorpus, remove = c(stopwords("portuguese"),badwords), remove_punct = TRUE, remove_numbers= TRUE)
return(mydfm)
#   ap_td <- tidy(mydfm)
#   names(ap_td) <- c("sentimento","term","count")
#   return(ap_td);
}
mydfm <- getDFMatrix(text);
badwords <- c("scontent.xx.fbcdn.net","https","oh","oe","pra"," v ","como","para","de","do","da","das","dos","isso","esse","nisso","nesse","aquele","nesses","aqueles","aquela","aquelas","que","q","é","sr","governador","rui","costa","senhor")
mydfm <- getDFMatrix(text);
set.seed(100)
textplot_wordcloud(topfeatures(mydfm, 20))
mydfm
?topfeatures
str(dfm)
mydfm
str(mydfm)
mydfm@ngrams
mydfm[1:10]
mydfm[1:1000]
textplot_wordcloud(mydfm[1:1000])
textplot_wordcloud(mydfm[1:10000])
textplot_wordcloud(mydfm[1:5000])
length(mydfm)
str(mydfm)
dim(mydfm)
dim(mydfm)[1]
dim(mydfm)[1] > 1000
runApp()
text <- toupper(file$Conteúdo)
text
class(text)
text <- toupper(file$Conteúdo[which(toupper(file$Polaridade) == "NEGATIVO")])
text
class(text)
runApp()
runApp()
runApp()
brewer.pal(7,"Greens")
brewer.pal(8,"Greens")
brewer.pal(8,"Blues")
brewer.pal(8,"Reds")
runApp()
?brewer.pal
brewer.pal(100,"Reds")
brewer.pal(20,"Reds")
brewer.pal(10,"Reds")
brewer.pal(9,"Reds")
brewer.pal(9,"Reds")[4:9]
brewer.pal(9,"Reds")[5:9]
runApp()
shiny::runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
library(readxl)
runApp()
runApp()
file <- read_xlsx("/home/cdesantana/DataSCOUT/Objectiva/BadogueSentimentos/ruicosta.xlsx")
names(file)
file$ID
View(file)
library(httr)
url <- "https://findmyfbid.com/"
file$`Autor ID`
authors <- file$`Autor ID`
authors <- file %>%
select(`Autor ID`, Polaridade)
authors
authors <- file %>%
select(`Autor ID`, Polaridade) %>%
group_by(`Autor ID``)
authors <- file %>%
select(`Autor ID`, Polaridade) %>%
group_by(`Autor ID`)
authors
authors <- file %>%
select(`Autor ID`, Polaridade) %>%
group_by(`Autor ID`) %>% coun()
authors <- file %>%
select(`Autor ID`, Polaridade) %>%
group_by(`Autor ID`) %>% count()
authors
?count
authors <- file %>%
select(`Autor ID`, Polaridade) %>%
group_by(`Autor ID`) %>% count(`Autor ID`, Polaridade)
authors
file %>%
select(`Autor ID`, Polaridade) %>%
group_by(`Autor ID`) %>% count(`Autor ID`, Polaridade)
?arrange
file %>%
select(`Autor ID`, Polaridade) %>%
group_by(`Autor ID`) %>%
count(`Autor ID`, Polaridade) %>%
arrange(n)
file %>%
select(`Autor ID`, Polaridade) %>%
group_by(`Autor ID`) %>%
count(`Autor ID`, Polaridade) %>%
arrange(n, `Autor ID`) %>%
tail()
file %>%
select(`Autor ID`, Polaridade) %>%
group_by(`Autor ID`) %>%
count(`Autor ID`, Polaridade) %>%
arrange(n, `Autor ID`) %>%
tail(100)
file %>%
select(`Autor ID`, Polaridade) %>%
group_by(`Autor ID`) %>%
count(`Autor ID`, Polaridade) %>%
arrange(n, `Autor ID`) %>%
tail(20)
names(file)
activeauthors <- file %>%
select(`Autor ID`, Polaridade) %>%
group_by(`Autor ID`) %>%
count(`Autor ID`, Polaridade) %>%
arrange(n, `Autor ID`) %>%
tail(20)
names(activeauthors)
ggplot(activeauthors) +
geom_bar(stat = "identity",
aes(x = `Autor ID`, y = as.numeric(n)),
fill = Polaridade) +
ylab("Numero de ocorrencias") +
xlab("Autor") +
geom_text( aes (x = `Autor ID`, y = as.numeric(n), label = as.numeric(n) ) , vjust = 0, hjust = 0, size = 2 ) +
coord_flip()
ggplot(activeauthors) +
geom_bar(stat = "identity",
aes(x = `Autor ID`, y = as.numeric(n), fill = Polaridade),
) +
ylab("Numero de ocorrencias") +
xlab("Autor") +
geom_text( aes (x = `Autor ID`, y = as.numeric(n), label = as.numeric(n) ) , vjust = 0, hjust = 0, size = 2 ) +
coord_flip()
ggplot(activeauthors) +
geom_bar(stat = "identity",
aes(x = reorder(`Autor ID`,as.numeric(n)), y = as.numeric(n), fill = Polaridade),
) +
ylab("Numero de ocorrencias") +
xlab("") +
geom_text( aes (x = reorder(`Autor ID`,as.numeric(n)), y = as.numeric(n), label = as.numeric(n) ) , vjust = 0, hjust = 0, size = 2 ) +
coord_flip()
ggplot(activeauthors) +
geom_bar(stat = "identity",
aes(x = reorder(`Autor ID`,as.numeric(n)), y = as.numeric(n), fill = Polaridade),
) +
ylab("Numero de ocorrencias") +
xlab("") +
#   geom_text( aes (x = reorder(`Autor ID`,as.numeric(n)), y = as.numeric(n), label = as.numeric(n) ) , vjust = 0, hjust = 0, size = 2 ) +
coord_flip()
unique(sort(activeauthors$Polaridade))
file %>%
select(`Autor ID`, Polaridade) %>%
group_by(`Autor ID`) %>%
count(`Autor ID`, Polaridade) %>%
arrange(n, `Autor ID`) %>%
tail(20) %>%
ggplot() +
geom_bar(stat = "identity",
aes(x = reorder(`Autor ID`,as.numeric(n)), y = as.numeric(n), fill = Polaridade),
) +
ylab("Numero de ocorrencias") +
xlab("") +
#   geom_text( aes (x = reorder(`Autor ID`,as.numeric(n)), y = as.numeric(n), label = as.numeric(n) ) , vjust = 0, hjust = 0, size = 2 ) +
coord_flip()
file %>%
select(`Autor ID`, Polaridade) %>%
group_by(`Autor ID`) %>%
count(`Autor ID`, Polaridade) %>%
arrange(n, `Autor ID`) %>%
tail(50) %>%
ggplot() +
geom_bar(stat = "identity",
aes(x = reorder(`Autor ID`,as.numeric(n)), y = as.numeric(n), fill = Polaridade),
) +
ylab("Numero de ocorrencias") +
xlab("") +
#   geom_text( aes (x = reorder(`Autor ID`,as.numeric(n)), y = as.numeric(n), label = as.numeric(n) ) , vjust = 0, hjust = 0, size = 2 ) +
coord_flip()
ggplotColours <- function(n = 6, h = c(0, 360) + 15){
if ((diff(h) %% 360) < 1) h[2] <- h[2] - 360/n
hcl(h = (seq(h[1], h[2], length = n)), c = 100, l = 65)
}
authors
ggplotColours <- function(n = 6, h = c(0, 360) + 15){
if ((diff(h) %% 360) < 1) h[2] <- h[2] - 360/n
hcl(h = (seq(h[1], h[2], length = n)), c = 100, l = 65)
}
file %>%
select(`Autor ID`, Polaridade) %>%
group_by(`Autor ID`) %>%
count(`Autor ID`, Polaridade) %>%
arrange(n, `Autor ID`) %>%
tail(50) %>%
ggplot() +
geom_bar(stat = "identity",
aes(x = reorder(`Autor ID`,as.numeric(n)), y = as.numeric(n), fill = Polaridade),
) +
ylab("Numero de ocorrencias") +
xlab("") +
scale_fill_manual("legend", values = c("Positivo" = ggplotColours(n=3)[2], "Negativo" = ggplotColours(n=3)[1], "Neutro" = ggplotColours(n=3)[3])) +
#   geom_text( aes (x = reorder(`Autor ID`,as.numeric(n)), y = as.numeric(n), label = as.numeric(n) ) , vjust = 0, hjust = 0, size = 2 ) +
coord_flip()
file %>%
select(`Autor ID`, Polaridade) %>%
group_by(`Autor ID`) %>%
count(`Autor ID`, Polaridade) %>%
arrange(n, `Autor ID`) %>%
tail(50) %>%
ggplot() +
geom_bar(stat = "identity",
aes(x = reorder(`Autor ID`,as.numeric(n)), y = as.numeric(n), fill = Polaridade)
) +
ylab("Numero de ocorrências") +
xlab("") +
scale_fill_manual("legend", values = c("Positivo" = ggplotColours(n=3)[2], "Negativo" = ggplotColours(n=3)[1], "Neutro" = ggplotColours(n=3)[3])) +
#   geom_text( aes (x = reorder(`Autor ID`,as.numeric(n)), y = as.numeric(n), label = as.numeric(n) ) , vjust = 0, hjust = 0, size = 2 ) +
coord_flip()
file %>%
select(`Autor ID`, Polaridade) %>%
group_by(`Autor ID`) %>%
count(`Autor ID`, Polaridade) %>%
arrange(n, `Autor ID`) %>%
tail(50) %>%
ggplot() +
geom_bar(stat = "identity",
aes(x = reorder(`Autor ID`,as.numeric(n)), y = as.numeric(n), fill = Polaridade)
) +
ylab("Numero de ocorrências") +
xlab("") +
scale_fill_manual("Polaridade", values = c("Positivo" = ggplotColours(n=3)[2], "Negativo" = ggplotColours(n=3)[1], "Neutro" = ggplotColours(n=3)[3])) +
#   geom_text( aes (x = reorder(`Autor ID`,as.numeric(n)), y = as.numeric(n), label = as.numeric(n) ) , vjust = 0, hjust = 0, size = 2 ) +
coord_flip()
runApp()
runApp()
